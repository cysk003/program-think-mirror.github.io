<?xml version='1.0' encoding='UTF-8'?><?xml-stylesheet href="http://www.blogger.com/styles/atom.css" type="text/css"?><feed xmlns='http://www.w3.org/2005/Atom' xmlns:openSearch='http://a9.com/-/spec/opensearchrss/1.0/' xmlns:gd="http://schemas.google.com/g/2005"><id>tag:blogger.com,1999:blog-5235590154125226279.post2000168982708073220..comments</id><updated>2017-05-22T03:33:56.305+08:00</updated><title type='text'>Comments on 编程随想的博客: 架构设计：生产者/消费者模式[3]：环形缓冲区</title><link rel='http://schemas.google.com/g/2005#feed' type='application/atom+xml' href='http://program-think.blogspot.com/feeds/comments/default'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/5235590154125226279/2000168982708073220/comments/default?max-results=999'/><link rel='alternate' type='text/html' href='http://program-think.blogspot.com/2009/04/producer-consumer-pattern-3-circle.html'/><link rel="hub" href="http://pubsubhubbub.appspot.com/"/><author><name>编程随想</name><uri>http://www.blogger.com/profile/11741356469378252621</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='26' height='32' src='//4.bp.blogspot.com/-GTIh2pdzDYI/VtcrB6rX0pI/AAAAAAAABUg/vWdDxEU4N6c/s220/Thinker.jpg'/></author><generator version='7.00' uri='http://www.blogger.com'>Blogger</generator><openSearch:totalResults>9</openSearch:totalResults><openSearch:startIndex>1</openSearch:startIndex><openSearch:itemsPerPage>999</openSearch:itemsPerPage>
<entry><id>tag:blogger.com,1999:blog-5235590154125226279.post-7322330969611293896</id><published>2009-04-08T15:47:00.000+08:00</published><updated>2009-04-08T15:47:00.000+08:00</updated><title type='text'>看来楼上的同学是老读者兼热心读者，经常发表一些评论，非常感谢 :)</title><content type='html'>看来楼上的同学是老读者兼热心读者，经常发表一些评论，非常感谢 :)</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/5235590154125226279/2000168982708073220/comments/default/7322330969611293896'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/5235590154125226279/2000168982708073220/comments/default/7322330969611293896'/><link rel='alternate' type='text/html' href='http://program-think.blogspot.com/2009/04/producer-consumer-pattern-3-circle.html?showComment=1239176820000#c7322330969611293896' title=''/><author><name>编程随想</name><uri>http://www.blogger.com/profile/11741356469378252621</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='26' height='32' src='http://4.bp.blogspot.com/_itipB8vBZzQ/SY1isusKAfI/AAAAAAAAAGo/4YF360m0Yto/S220/Thinker_BlogSpot.jpg'/></author><thr:in-reply-to xmlns:thr='http://purl.org/syndication/thread/1.0' href='http://program-think.blogspot.com/2009/04/producer-consumer-pattern-3-circle.html' ref='tag:blogger.com,1999:blog-5235590154125226279.post-2000168982708073220' source='http://www.blogger.com/feeds/5235590154125226279/posts/default/2000168982708073220' type='text/html'/><gd:extendedProperty name="blogger.itemClass" value="pid-1582521586"/><gd:extendedProperty name="blogger.displayTime" value="2009年4月8日 下午3:47:00"/></entry>
<entry><id>tag:blogger.com,1999:blog-5235590154125226279.post-8564306409256596061</id><published>2009-04-08T14:09:00.000+08:00</published><updated>2009-04-08T14:09:00.000+08:00</updated><title type='text'>多谢，看到这里，感觉到楼主在真心分享一些一线的经验。环形缓冲区也类似一种模式，有其使用场景的限定的，...</title><content type='html'>多谢，看到这里，感觉到楼主在真心分享一些一线的经验。&lt;BR/&gt;环形缓冲区也类似一种模式，有其使用场景的限定的，这点楼主也说的很明白。而且，模式一般也会稍微脱离一下具体实现语言的限制。</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/5235590154125226279/2000168982708073220/comments/default/8564306409256596061'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/5235590154125226279/2000168982708073220/comments/default/8564306409256596061'/><link rel='alternate' type='text/html' href='http://program-think.blogspot.com/2009/04/producer-consumer-pattern-3-circle.html?showComment=1239170940000#c8564306409256596061' title=''/><author><name>Kyle M. Lee</name><uri>http://www.blogger.com/profile/07096466157031020697</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_b7FdT41py7w/SMFUQ-dI7wI/AAAAAAAACqo/YI2Hxxdpgm4/S220/kyle.xi.an.jpg'/></author><thr:in-reply-to xmlns:thr='http://purl.org/syndication/thread/1.0' href='http://program-think.blogspot.com/2009/04/producer-consumer-pattern-3-circle.html' ref='tag:blogger.com,1999:blog-5235590154125226279.post-2000168982708073220' source='http://www.blogger.com/feeds/5235590154125226279/posts/default/2000168982708073220' type='text/html'/><gd:extendedProperty name="blogger.itemClass" value="pid-714539963"/><gd:extendedProperty name="blogger.displayTime" value="2009年4月8日 下午2:09:00"/></entry>
<entry><id>tag:blogger.com,1999:blog-5235590154125226279.post-8244745214227411181</id><published>2009-04-02T10:57:00.000+08:00</published><updated>2009-04-02T10:57:00.000+08:00</updated><title type='text'>另外，补充一下circular_buffer的介绍（摘自boost官方网站）：The basic m...</title><content type='html'>另外，补充一下circular_buffer的介绍（摘自boost官方网站）：&lt;BR/&gt;The basic motivation behind the circular_buffer was to create a container which would work seamlessly with STL. Additionally, the design of the circular_buffer was guided by the following principles:&lt;BR/&gt;   1. Maximum efficiency for envisaged applications.&lt;BR/&gt;   2. Suitable for general purpose use.&lt;BR/&gt;   3. The behaviour of the buffer as intuitive as possible.&lt;BR/&gt;   4. Suitable for specialization by means of adaptors. (The circular_buffer_space_optimized is such an example of the adaptor.)&lt;BR/&gt;   5. Easy to debug. (See Debug Support for details.)&lt;BR/&gt;&lt;BR/&gt;In order to achieve maximum efficiency, the circular_buffer stores its elements in a contiguous region of memory, which then enables:&lt;BR/&gt;   1. Use of fixed memory and no implicit or unexpected memory allocation.&lt;BR/&gt;   2. Fast constant-time insertion and removal of elements from the front and back.&lt;BR/&gt;   3. Fast constant-time random access of elements.&lt;BR/&gt;   4. Suitability for real-time and performance critical applications.</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/5235590154125226279/2000168982708073220/comments/default/8244745214227411181'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/5235590154125226279/2000168982708073220/comments/default/8244745214227411181'/><link rel='alternate' type='text/html' href='http://program-think.blogspot.com/2009/04/producer-consumer-pattern-3-circle.html?showComment=1238641020000#c8244745214227411181' title=''/><author><name>编程随想</name><uri>http://www.blogger.com/profile/11741356469378252621</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='26' height='32' src='http://4.bp.blogspot.com/_itipB8vBZzQ/SY1isusKAfI/AAAAAAAAAGo/4YF360m0Yto/S220/Thinker_BlogSpot.jpg'/></author><thr:in-reply-to xmlns:thr='http://purl.org/syndication/thread/1.0' href='http://program-think.blogspot.com/2009/04/producer-consumer-pattern-3-circle.html' ref='tag:blogger.com,1999:blog-5235590154125226279.post-2000168982708073220' source='http://www.blogger.com/feeds/5235590154125226279/posts/default/2000168982708073220' type='text/html'/><gd:extendedProperty name="blogger.itemClass" value="pid-1582521586"/><gd:extendedProperty name="blogger.displayTime" value="2009年4月2日 上午10:57:00"/></entry>
<entry><id>tag:blogger.com,1999:blog-5235590154125226279.post-4915068052062542206</id><published>2009-04-02T10:44:00.000+08:00</published><updated>2009-04-02T10:44:00.000+08:00</updated><title type='text'>楼上的同学，allocator确实能够优化内存分配和释放。不过C++之外的语言，不一定有类似STL ...</title><content type='html'>楼上的同学，&lt;BR/&gt;allocator确实能够优化内存分配和释放。不过C++之外的语言，不一定有类似STL allocator的东东可用。这时候还是得考虑环形缓冲区。&lt;BR/&gt;另外，circular_buffer相比STL的容器还是有某些优势的（否则boost也不会加入这个玩意儿了:-）。</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/5235590154125226279/2000168982708073220/comments/default/4915068052062542206'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/5235590154125226279/2000168982708073220/comments/default/4915068052062542206'/><link rel='alternate' type='text/html' href='http://program-think.blogspot.com/2009/04/producer-consumer-pattern-3-circle.html?showComment=1238640240000#c4915068052062542206' title=''/><author><name>编程随想</name><uri>http://www.blogger.com/profile/11741356469378252621</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='26' height='32' src='http://4.bp.blogspot.com/_itipB8vBZzQ/SY1isusKAfI/AAAAAAAAAGo/4YF360m0Yto/S220/Thinker_BlogSpot.jpg'/></author><thr:in-reply-to xmlns:thr='http://purl.org/syndication/thread/1.0' href='http://program-think.blogspot.com/2009/04/producer-consumer-pattern-3-circle.html' ref='tag:blogger.com,1999:blog-5235590154125226279.post-2000168982708073220' source='http://www.blogger.com/feeds/5235590154125226279/posts/default/2000168982708073220' type='text/html'/><gd:extendedProperty name="blogger.itemClass" value="pid-1582521586"/><gd:extendedProperty name="blogger.displayTime" value="2009年4月2日 上午10:44:00"/></entry>
<entry><id>tag:blogger.com,1999:blog-5235590154125226279.post-7068404712115815589</id><published>2009-04-02T10:22:00.000+08:00</published><updated>2009-04-02T10:22:00.000+08:00</updated><title type='text'>在C++里面，STL中的容器默认使用STL提供的allocator实现来获取内存。至少在gcc的ST...</title><content type='html'>在C++里面，STL中的容器默认使用STL提供的allocator实现来获取内存。至少在gcc的STL实现中，那东东就是个内存池，是只分配不释放的。而gcc中的deque实现，采用的是分段数组（不知道这玩意有没学名）的方式，也在很大程度上减少了队列长度增长时的重分配效应。而且这种方案没长度限制，在一定程度上。当然，还是要自个搞定并发的问题。</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/5235590154125226279/2000168982708073220/comments/default/7068404712115815589'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/5235590154125226279/2000168982708073220/comments/default/7068404712115815589'/><link rel='alternate' type='text/html' href='http://program-think.blogspot.com/2009/04/producer-consumer-pattern-3-circle.html?showComment=1238638920000#c7068404712115815589' title=''/><author><name>GlacJAY</name><uri>http://www.blogger.com/profile/03215784713435892961</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to xmlns:thr='http://purl.org/syndication/thread/1.0' href='http://program-think.blogspot.com/2009/04/producer-consumer-pattern-3-circle.html' ref='tag:blogger.com,1999:blog-5235590154125226279.post-2000168982708073220' source='http://www.blogger.com/feeds/5235590154125226279/posts/default/2000168982708073220' type='text/html'/><gd:extendedProperty name="blogger.itemClass" value="pid-944801338"/><gd:extendedProperty name="blogger.displayTime" value="2009年4月2日 上午10:22:00"/></entry>
<entry><id>tag:blogger.com,1999:blog-5235590154125226279.post-3579875477019472251</id><published>2009-04-01T22:59:00.000+08:00</published><updated>2009-04-01T22:59:00.000+08:00</updated><title type='text'>楼上的同学，就因为circbuf是GPL协议，所以我才说它不太爽。象它这种以“库”的形式提供的开源项...</title><content type='html'>楼上的同学，&lt;BR/&gt;就因为circbuf是GPL协议，所以我才说它不太爽。象它这种以“库”的形式提供的开源项目，通常都采用LGPL而不是GPL。</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/5235590154125226279/2000168982708073220/comments/default/3579875477019472251'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/5235590154125226279/2000168982708073220/comments/default/3579875477019472251'/><link rel='alternate' type='text/html' href='http://program-think.blogspot.com/2009/04/producer-consumer-pattern-3-circle.html?showComment=1238597940000#c3579875477019472251' title=''/><author><name>编程随想</name><uri>http://www.blogger.com/profile/11741356469378252621</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='26' height='32' src='http://4.bp.blogspot.com/_itipB8vBZzQ/SY1isusKAfI/AAAAAAAAAGo/4YF360m0Yto/S220/Thinker_BlogSpot.jpg'/></author><thr:in-reply-to xmlns:thr='http://purl.org/syndication/thread/1.0' href='http://program-think.blogspot.com/2009/04/producer-consumer-pattern-3-circle.html' ref='tag:blogger.com,1999:blog-5235590154125226279.post-2000168982708073220' source='http://www.blogger.com/feeds/5235590154125226279/posts/default/2000168982708073220' type='text/html'/><gd:extendedProperty name="blogger.itemClass" value="pid-1582521586"/><gd:extendedProperty name="blogger.displayTime" value="2009年4月1日 下午10:59:00"/></entry>
<entry><id>tag:blogger.com,1999:blog-5235590154125226279.post-7329966512648070096</id><published>2009-04-01T21:27:00.000+08:00</published><updated>2009-04-01T21:27:00.000+08:00</updated><title type='text'>circbuf发布的代码里附带的License是GPL</title><content type='html'>circbuf发布的代码里附带的License是GPL</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/5235590154125226279/2000168982708073220/comments/default/7329966512648070096'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/5235590154125226279/2000168982708073220/comments/default/7329966512648070096'/><link rel='alternate' type='text/html' href='http://program-think.blogspot.com/2009/04/producer-consumer-pattern-3-circle.html?showComment=1238592420000#c7329966512648070096' title=''/><author><name>Gzm&#39;s blog</name><uri>http://www.blogger.com/profile/06504209440289430593</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to xmlns:thr='http://purl.org/syndication/thread/1.0' href='http://program-think.blogspot.com/2009/04/producer-consumer-pattern-3-circle.html' ref='tag:blogger.com,1999:blog-5235590154125226279.post-2000168982708073220' source='http://www.blogger.com/feeds/5235590154125226279/posts/default/2000168982708073220' type='text/html'/><gd:extendedProperty name="blogger.itemClass" value="pid-1042343657"/><gd:extendedProperty name="blogger.displayTime" value="2009年4月1日 下午9:27:00"/></entry>
<entry><id>tag:blogger.com,1999:blog-5235590154125226279.post-6520465674843318178</id><published>2009-04-01T12:09:00.000+08:00</published><updated>2009-04-01T12:09:00.000+08:00</updated><title type='text'>感谢楼上的同学提意见，我又补充说明了一下两者实现上的差别。</title><content type='html'>感谢楼上的同学提意见，我又补充说明了一下两者实现上的差别。</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/5235590154125226279/2000168982708073220/comments/default/6520465674843318178'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/5235590154125226279/2000168982708073220/comments/default/6520465674843318178'/><link rel='alternate' type='text/html' href='http://program-think.blogspot.com/2009/04/producer-consumer-pattern-3-circle.html?showComment=1238558940000#c6520465674843318178' title=''/><author><name>编程随想</name><uri>http://www.blogger.com/profile/11741356469378252621</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='26' height='32' src='http://4.bp.blogspot.com/_itipB8vBZzQ/SY1isusKAfI/AAAAAAAAAGo/4YF360m0Yto/S220/Thinker_BlogSpot.jpg'/></author><thr:in-reply-to xmlns:thr='http://purl.org/syndication/thread/1.0' href='http://program-think.blogspot.com/2009/04/producer-consumer-pattern-3-circle.html' ref='tag:blogger.com,1999:blog-5235590154125226279.post-2000168982708073220' source='http://www.blogger.com/feeds/5235590154125226279/posts/default/2000168982708073220' type='text/html'/><gd:extendedProperty name="blogger.itemClass" value="pid-1582521586"/><gd:extendedProperty name="blogger.displayTime" value="2009年4月1日 下午12:09:00"/></entry>
<entry><id>tag:blogger.com,1999:blog-5235590154125226279.post-5645425147527789694</id><published>2009-04-01T11:05:00.000+08:00</published><updated>2009-04-01T11:05:00.000+08:00</updated><title type='text'>博主没有讲清楚为什么环形缓冲区相对于队列缓冲区具有性能优势。</title><content type='html'>博主没有讲清楚为什么环形缓冲区相对于队列缓冲区具有性能优势。</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/5235590154125226279/2000168982708073220/comments/default/5645425147527789694'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/5235590154125226279/2000168982708073220/comments/default/5645425147527789694'/><link rel='alternate' type='text/html' href='http://program-think.blogspot.com/2009/04/producer-consumer-pattern-3-circle.html?showComment=1238555100000#c5645425147527789694' title=''/><author><name>Anonymous</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to xmlns:thr='http://purl.org/syndication/thread/1.0' href='http://program-think.blogspot.com/2009/04/producer-consumer-pattern-3-circle.html' ref='tag:blogger.com,1999:blog-5235590154125226279.post-2000168982708073220' source='http://www.blogger.com/feeds/5235590154125226279/posts/default/2000168982708073220' type='text/html'/><gd:extendedProperty name="blogger.itemClass" value="pid-357517073"/><gd:extendedProperty name="blogger.displayTime" value="2009年4月1日 上午11:05:00"/></entry></feed>
